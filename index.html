<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javier Peres Tambunan | IT Specialist Portfolio</title>
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon-16.png">
    <link rel="apple-touch-icon" sizes="128x128" href="assets/images/favicon-128.png">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>

    <!-- ========== LOADING SCREEN ========== -->
    <div id="loadingScreen">
        <div class="ls-bar-track">
            <div class="ls-bar-fill" id="lsBarFill"></div>
        </div>
        <div class="ls-info">
            <span class="ls-percent" id="lsPercent">0</span><span class="ls-percent-sign">%</span>
        </div>
    </div>

    <button class="theme-cycle-btn" id="themeCycleBtn" title="Switch theme">
        <svg class="theme-icon icon-system" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M12 2a10 10 0 0 1 0 20" fill="currentColor" stroke="none"></path>
        </svg>
        <svg class="theme-icon icon-dark" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
        <svg class="theme-icon icon-light" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
    </button>

    <nav class="pill-nav" id="pillNav">
        <div class="pill-nav-inner">
            <div class="pill-indicator" id="pillIndicator"></div>
            <a href="#home" class="pill-link active" data-section="home">Home</a>
            <a href="#about" class="pill-link" data-section="about">About</a>
            <a href="#skills" class="pill-link" data-section="skills">Skills</a>
            <a href="#certificates" class="pill-link" data-section="certificates">Certs</a>
            <a href="#contact" class="pill-link" data-section="contact">Contact</a>
        </div>
    </nav>

    <nav class="mobile-pill-nav" id="mobilePillNav">
        <a href="#home" class="mobile-pill-link active" data-section="home"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg><span>Home</span></a>
        <a href="#about" class="mobile-pill-link" data-section="about"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg><span>About</span></a>
        <a href="#skills" class="mobile-pill-link" data-section="skills"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg><span>Skills</span></a>
        <a href="#certificates" class="mobile-pill-link" data-section="certificates"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="2"></rect><path d="M7 10l3 3 7-7"></path></svg><span>Certs</span></a>
        <a href="#contact" class="mobile-pill-link" data-section="contact"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg><span>Contact</span></a>
    </nav>

    <!-- HERO -->
    <section id="home" class="hero-section">
        <canvas class="galaxy-canvas" id="galaxyCanvas"></canvas>
        <canvas class="shooting-stars-canvas" id="shootingStarsCanvas" style="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;display:none;"></canvas>
        <button class="galaxy-toggle-btn" id="galaxyToggleBtn" title="Toggle Galaxy Background">
            <svg class="galaxy-icon-on" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M12 2v2M12 20v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M2 12h2M20 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>
            </svg>
            <svg class="galaxy-icon-off" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none">
                <line x1="2" y1="2" x2="22" y2="22"></line>
                <path d="M12 5C6.48 5 2 9.48 2 12c0 1.19.44 2.28 1.17 3.12M21.17 8.7C21.72 9.6 22 10.78 22 12c0 2.52-4.48 7-10 7-1.36 0-2.64-.3-3.76-.83"></path>
            </svg>
            <span class="galaxy-toggle-label">Galaxy: ON</span>
        </button>
        <div class="hero-bg-grid"></div>
        <div class="hero-content">
            <p class="purpose-statement">This website is created to promote my <strong>personal skills as an IT Specialist</strong>.</p>
            <div class="glitch-wrapper">
                <h1 class="hero-title glitch" data-text="JAVIER PERES TAMBUNAN">JAVIER PERES TAMBUNAN</h1>
            </div>
            <p class="hero-role">IT Specialist</p>
            <div class="typewriter-container">
                <span class="typewriter-prefix">&gt;&nbsp;</span>
                <span class="typewriter" id="typewriter"></span>
                <span class="typewriter-cursor">|</span>
            </div>
            <p class="hero-subtitle">Computer Troubleshooting · Networking Basics · Coding Fundamentals</p>
            <div class="hero-cta">
                <a href="#skills" class="btn btn-primary">
                    <span class="btn-text">Explore My Skills</span>
                    <span class="btn-icon">&rarr;</span>
                </a>
                <a href="assets/docs/resume.pdf" download class="btn btn-outline">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    <span class="btn-text">Download My Resume</span>
                </a>
            </div>
            <div class="scroll-indicator">
                <div class="scroll-mouse"><div class="scroll-wheel"></div></div>
                <span>Scroll Down</span>
            </div>
        </div>
    </section>

    <!-- LANYARD OVERLAY: anchored at bottom of #home, floats over #about -->
    <canvas id="lanyardCanvas"></canvas>
    <div class="lanyard-hint" id="lanyardHint">drag me!</div>

    <!-- ABOUT -->
    <section id="about" class="section about-section">
        <div class="section-container">
            <div class="section-header">
                <span class="section-tag">&lt;about&gt;</span>
                <h2 class="section-title reveal-text">About</h2>
                <span class="section-tag">&lt;/about&gt;</span>
            </div>
            <div class="about-grid">
                <div class="about-card about-main reveal-up">
                    <div class="magic-bento" data-bento>
                        <div class="bento-border-glow"></div>
                        <div class="bento-inner terminal-window">
                            <div class="terminal-header">
                                <div class="terminal-dots"><span class="dot red"></span><span class="dot yellow"></span><span class="dot green"></span></div>
                                <span class="terminal-title">about_me.sh</span>
                            </div>
                            <div class="terminal-body">
                                <p><span class="terminal-prompt">$</span> <span class="terminal-cmd">cat</span> about_me.txt</p><br>
                                <p class="terminal-output">My name is <span class="highlight">Javier Peres Tambunan</span>, and I am an aspiring <span class="highlight">IT Specialist</span> with a genuine passion for technology. My primary expertise is in <span class="highlight">computer troubleshooting</span>, where I diagnose and resolve hardware malfunctions, software conflicts, and system performance issues efficiently.</p><br>
                                <p class="terminal-output">In addition to troubleshooting, I have developed a solid foundation in <span class="highlight">networking concepts</span> such as TCP/IP, DNS, and basic router configuration. I also understand <span class="highlight">coding fundamentals</span>, including HTML, CSS, and JavaScript.</p><br>
                                <p class="terminal-output">I am committed to continuous learning and I approach every technical challenge with patience, logic, and determination. My goal is to build a career where I can help individuals and organizations solve their technology problems confidently.</p><br>
                                <p><span class="terminal-prompt">$</span> <span class="cursor-blink">_</span></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="about-sidebar reveal-up" style="--delay: 0.2s">
                    <div class="about-stats">
                        <div class="magic-bento" data-bento><div class="bento-border-glow"></div><div class="bento-inner stat-card"><div class="stat-icon-wrap"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg></div><div class="stat-info"><span class="stat-label">Main Focus</span><span class="stat-value">Troubleshooting</span></div></div></div>
                        <div class="magic-bento" data-bento><div class="bento-border-glow"></div><div class="bento-inner stat-card"><div class="stat-icon-wrap"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg></div><div class="stat-info"><span class="stat-label">Also Knows</span><span class="stat-value">Networking</span></div></div></div>
                        <div class="magic-bento" data-bento><div class="bento-border-glow"></div><div class="bento-inner stat-card"><div class="stat-icon-wrap"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></div><div class="stat-info"><span class="stat-label">And Also</span><span class="stat-value">Coding Basics</span></div></div></div>
                        <div class="magic-bento" data-bento><div class="bento-border-glow"></div><div class="bento-inner stat-card"><div class="stat-icon-wrap"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></div><div class="stat-info"><span class="stat-label">Mindset</span><span class="stat-value">There Is Always A Way</span></div></div></div>
                    </div>
                    <div class="magic-bento" data-bento>
                        <div class="bento-border-glow"></div>
                        <div class="bento-inner resume-box-content">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line></svg>
                            <span class="resume-box-title">My Resume</span>
                            <div class="resume-box-actions">
                                <a href="assets/docs/resume.pdf" target="_blank" class="resume-link"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>View Resume (PDF)</a>
                                <a href="assets/docs/resume.pdf" download class="resume-link resume-download"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>Download My Resume</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SKILLS -->
    <section id="skills" class="section skills-section">
        <div class="section-container">
            <div class="section-header">
                <span class="section-tag">&lt;skills&gt;</span>
                <h2 class="section-title reveal-text">Skills</h2>
                <span class="section-tag">&lt;/skills&gt;</span>
            </div>
            <div class="main-skill-showcase reveal-up">
                <div class="magic-bento" data-bento>
                    <div class="bento-border-glow"></div>
                    <div class="bento-inner skill-spotlight">
                        <div class="spotlight-glow-bg"></div>
                        <div class="spotlight-icon"><svg width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="2" y="3" width="20" height="14" rx="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line><path d="M7 10l2 2 4-4" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>
                        <h3 class="spotlight-title">Computer Troubleshooting</h3>
                        <span class="spotlight-badge">Main Skill</span>
                        <p class="spotlight-desc">I specialize in diagnosing hardware and software issues, performing system optimization, managing OS installation and recovery, handling driver conflicts, removing viruses, and tuning system performance. From blue screens to boot failures, I approach every problem with a systematic and logical method until the issue is resolved.</p>
                        <div class="skill-bar-container main-bar"><div class="skill-bar-label"><span>Proficiency</span><span>90%</span></div><div class="skill-bar"><div class="skill-bar-fill" data-width="90"></div></div></div>
                    </div>
                </div>
            </div>

            <!-- Skills Grid: Row 1 = Hardware, OS Management, Tech Support | Row 2 = Coding Basics, Networking, System Security -->
            <div class="skills-grid">
                <div class="magic-bento reveal-up" data-bento style="--delay:0.1s"><div class="bento-border-glow"></div><div class="bento-inner skill-card-content"><div class="skill-icon-wrapper"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="4" y="4" width="16" height="16" rx="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="2" x2="9" y2="4"></line><line x1="15" y1="2" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="22"></line><line x1="15" y1="20" x2="15" y2="22"></line></svg></div><h4>Hardware</h4><p class="skill-card-desc">I have hands-on experience in PC assembly, component identification, RAM and SSD upgrades, thermal management, and peripheral repair.</p><div class="skill-bar-container"><div class="skill-bar"><div class="skill-bar-fill" data-width="75"></div></div><span class="skill-percent">75%</span></div><div class="skill-tags"><span class="tag">PC Build</span><span class="tag">Upgrades</span><span class="tag">Repair</span></div></div></div>

                <div class="magic-bento reveal-up" data-bento style="--delay:0.2s"><div class="bento-border-glow"></div><div class="bento-inner skill-card-content"><div class="skill-icon-wrapper"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg></div><h4>OS Management</h4><p class="skill-card-desc">I am proficient in Windows installation, dual-boot setup with Linux, system restore procedures, registry editing, and Group Policy configuration.</p><div class="skill-bar-container"><div class="skill-bar"><div class="skill-bar-fill" data-width="80"></div></div><span class="skill-percent">80%</span></div><div class="skill-tags"><span class="tag">Windows</span><span class="tag">Linux</span><span class="tag">Dual Boot</span></div></div></div>

                <div class="magic-bento reveal-up" data-bento style="--delay:0.3s"><div class="bento-border-glow"></div><div class="bento-inner skill-card-content"><div class="skill-icon-wrapper"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path></svg></div><h4>Tech Support</h4><p class="skill-card-desc">I communicate technical solutions clearly and simply, maintain patience with users, and follow a systematic approach to diagnosing issues efficiently.</p><div class="skill-bar-container"><div class="skill-bar"><div class="skill-bar-fill" data-width="85"></div></div><span class="skill-percent">85%</span></div><div class="skill-tags"><span class="tag">Communication</span><span class="tag">Patience</span><span class="tag">Logic</span></div></div></div>

                <div class="magic-bento reveal-up" data-bento style="--delay:0.4s"><div class="bento-border-glow"></div><div class="bento-inner skill-card-content"><div class="skill-icon-wrapper"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline><line x1="14" y1="4" x2="10" y2="20"></line></svg></div><h4>Coding Basics</h4><p class="skill-card-desc">I have a basic understanding of HTML, CSS, and JavaScript for simple web pages, as well as introductory Python scripting for small automation tasks.</p><div class="skill-bar-container"><div class="skill-bar"><div class="skill-bar-fill" data-width="25"></div></div><span class="skill-percent">25%</span></div><div class="skill-tags"><span class="tag">HTML/CSS</span><span class="tag">JavaScript</span><span class="tag">Python</span></div></div></div>

                <div class="magic-bento reveal-up" data-bento style="--delay:0.5s"><div class="bento-border-glow"></div><div class="bento-inner skill-card-content"><div class="skill-icon-wrapper"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg></div><h4>Networking</h4><p class="skill-card-desc">I am familiar with TCP/IP protocols, DNS, DHCP, subnetting fundamentals, and basic router and switch configuration for small-scale networks.</p><div class="skill-bar-container"><div class="skill-bar"><div class="skill-bar-fill" data-width="50"></div></div><span class="skill-percent">50%</span></div><div class="skill-tags"><span class="tag">TCP/IP</span><span class="tag">DNS/DHCP</span><span class="tag">Wi-Fi</span></div></div></div>

                <div class="magic-bento reveal-up" data-bento style="--delay:0.6s"><div class="bento-border-glow"></div><div class="bento-inner skill-card-content"><div class="skill-icon-wrapper"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg></div><h4>System Security</h4><p class="skill-card-desc">I understand firewall configuration, antivirus management, Windows Defender settings, and safe browsing practices to keep systems protected.</p><div class="skill-bar-container"><div class="skill-bar"><div class="skill-bar-fill" data-width="45"></div></div><span class="skill-percent">45%</span></div><div class="skill-tags"><span class="tag">Firewall</span><span class="tag">Antivirus</span><span class="tag">Safety</span></div></div></div>
            </div>

            <div class="tools-section reveal-up">
                <h3 class="tools-title">Tools and Technologies I Use</h3>
                <div class="tools-marquee"><div class="marquee-track">
                    <div class="tool-item">Windows 10/11</div><div class="tool-item">Arch Linux (CachyOS)</div><div class="tool-item">Ubuntu Linux</div><div class="tool-item">Command Prompt</div><div class="tool-item">PowerShell</div><div class="tool-item">VS Code</div><div class="tool-item">Chrome DevTools</div><div class="tool-item">Wireshark</div><div class="tool-item">HWMonitor</div><div class="tool-item">CrystalDiskInfo</div><div class="tool-item">Rufus</div><div class="tool-item">Git</div><div class="tool-item">Cisco Packet Tracer</div>
                    <div class="tool-item">Windows 10/11</div><div class="tool-item">Arch Linux (CachyOS)</div><div class="tool-item">Ubuntu Linux</div><div class="tool-item">Command Prompt</div><div class="tool-item">PowerShell</div><div class="tool-item">VS Code</div><div class="tool-item">Chrome DevTools</div><div class="tool-item">Wireshark</div><div class="tool-item">HWMonitor</div><div class="tool-item">CrystalDiskInfo</div><div class="tool-item">Rufus</div><div class="tool-item">Git</div><div class="tool-item">Cisco Packet Tracer</div>
                </div></div>
            </div>

            <!-- PROJECT EXPERIENCE (CardSwap) -->
            <div class="project-experience-section reveal-up">
                <div class="section-header" style="margin-bottom: 2rem;">
                    <span class="section-tag">&lt;projects&gt;</span>
                    <h2 class="section-title">Project Experience</h2>
                    <span class="section-tag">&lt;/projects&gt;</span>
                </div>
                <div class="project-cardswap-wrapper">
                    <div class="cardswap-nav">
                        <button class="cardswap-btn" id="cardswapPrev" title="Previous project" aria-label="Previous project">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
                        </button>
                        <div class="gallery-dots" id="cardswapDots"></div>
                        <button class="cardswap-btn" id="cardswapNext" title="Next project" aria-label="Next project">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                        </button>
                    </div>
                    <div class="card-swap-container" id="projectCardSwap">
                        <!-- Card 1 -->
                        <div class="proj-card">
                            <div class="proj-card-tag">Troubleshooting</div>
                            <div class="proj-card-image">
                                <picture>
                                    <source srcset="assets/project/project1.webp" type="image/webp">
                                    <img src="assets/project/project1.jpg" alt="School PC Maintenance" onerror="this.parentElement.parentElement.classList.add('proj-card-image--empty')">
                                </picture>
                                <span class="proj-card-image-placeholder">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                                    <span>project1</span>
                                </span>
                            </div>
                            <h3 class="proj-card-title">School PC Maintenance</h3>
                            <p class="proj-card-desc">Diagnosed and repaired multiple school computers suffering from slow performance, virus infections, and driver conflicts. Performed OS reinstallation and optimization on 10+ units.</p>
                            <div class="proj-card-tags">
                                <span class="proj-tag">Windows</span>
                                <span class="proj-tag">Antivirus</span>
                                <span class="proj-tag">Driver Fix</span>
                            </div>
                        </div>
                        <!-- Card 2 -->
                        <div class="proj-card">
                            <div class="proj-card-tag">GNU/Linux & Arch</div>
                            <div class="proj-card-image">
                                <picture>
                                    <source srcset="assets/project/project2.webp" type="image/webp">
                                    <img src="assets/project/project2.jpg" alt="Home Network Setup" onerror="this.parentElement.parentElement.classList.add('proj-card-image--empty')">
                                </picture>
                                <span class="proj-card-image-placeholder">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                                    <span>project2</span>
                                </span>
                            </div>
                            <h3 class="proj-card-title">Linux Distros</h3>
                            <p class="proj-card-desc">Balancing peak performance and accessibility. Featuring CachyOS for high-performance kernel optimizations and Ubuntu-Based as a stable, user-friendly entry point for early users. From the modern desktop environment KDE Plasma until the sleek GNOME-Based.</p>
                            <div class="proj-card-tags">
                                <span class="proj-tag">Performance Linux</span>
                                <span class="proj-tag">User-Friendly Linux</span>
                                <span class="proj-tag">KDE Plasma</span>
                                <span class="proj-tag">GNOME-Based</span>
                            </div>
                        </div>
                        <!-- Card 3 -->
                        <div class="proj-card">
                            <div class="proj-card-tag">Web Development</div>
                            <div class="proj-card-image">
                                <picture>
                                    <source srcset="assets/project/project3.webp" type="image/webp">
                                    <img src="assets/project/project3.jpg" alt="IT Specialist Portfolio" onerror="this.parentElement.parentElement.classList.add('proj-card-image--empty')">
                                </picture>
                                <span class="proj-card-image-placeholder">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                                    <span>project3</span>
                                </span>
                            </div>
                            <h3 class="proj-card-title">Portfolio & Attendance</h3>
                            <p class="proj-card-desc">Designed and developed this personal portfolio website from scratch using HTML, CSS, and JavaScript. Features WebGL galaxy background, physics-based lanyard, and full dark/light mode support.</p>
                            <div class="proj-card-tags">
                                <span class="proj-tag">HTML/CSS</span>
                                <span class="proj-tag">JavaScript</span>
                                <span class="proj-tag">WebGL</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- CERTIFICATES -->
    <section id="certificates" class="section certificates-section">
        <div class="section-container">
            <div class="section-header">
                <span class="section-tag">&lt;certs&gt;</span>
                <h2 class="section-title reveal-text">Certificates</h2>
                <span class="section-tag">&lt;/certs&gt;</span>
            </div>
        </div>
        <div class="circular-gallery-wrapper reveal-up">
            <div class="circular-gallery" id="circularGallery">
                <div class="gallery-scene" id="galleryScene">
                    <div class="gallery-item" data-index="0" data-title="BNSP Junior Office Operator Certificate" data-desc="This national competency certificate validates professional proficiency in operating office software and managing digital administration tasks according to BNSP standards." data-year="2025"><picture><source srcset="assets/certificates/cert1.webp" type="image/webp"><img src="assets/certificates/cert1.jpg" alt="BNSP" loading="lazy"></picture></div>
                    <div class="gallery-item" data-index="1" data-title="Infinite Learning Certificate" data-desc="This certificate recognizes the successful completion of the EduTourism Workshop, focusing on developing public speaking skills and building total confidence in English communication." data-year="2025"><picture><source srcset="assets/certificates/cert2.webp" type="image/webp"><img src="assets/certificates/cert2.jpg" alt="Infinite" loading="lazy"></picture></div>
                    <div class="gallery-item" data-index="2" data-title="Fiber Optic Training Certificate" data-desc="This certificate verifies the successful completion of technical training in fiber optic network design, splicing, and troubleshooting, conducted by PT Batam Bintan Telekomunikasi." data-year="2025"><picture><source srcset="assets/certificates/cert3.webp" type="image/webp"><img src="assets/certificates/cert3.jpg" alt="FO" loading="lazy"></picture></div>
                    <div class="gallery-item" data-index="3" data-title="Basic Student Leadership Training Certificate" data-desc="This certificate recognizes the successful completion of Basic Student Leadership Training (LDKS) at the 136th Infantry Battalion/Tuah Sakti, focusing on developing discipline, character, and essential leadership skills." data-year="2024"><picture><source srcset="assets/certificates/cert4.webp" type="image/webp"><img src="assets/certificates/cert4.jpg" alt="LDKS" loading="lazy"></picture></div>
                    <div class="gallery-item" data-index="4" data-title="Ceremony Officer Certificate" data-desc="This certificate of appreciation recognizes the dedicated service as an official member of the ceremony task force for the 80th Indonesian Independence Day, demonstrating strong teamwork and national commitment." data-year="2025"><picture><source srcset="assets/certificates/cert5.webp" type="image/webp"><img src="assets/certificates/cert5.jpg" alt="HUT-RI" loading="lazy"></picture></div>
                </div>
            </div>
            <div class="gallery-info" id="galleryInfo"><h4 class="gallery-info-title" id="galleryInfoTitle"></h4><p class="gallery-info-desc" id="galleryInfoDesc"></p><span class="gallery-info-year" id="galleryInfoYear"></span></div>
            <div class="gallery-controls">
                <button class="gallery-btn gallery-prev" id="galleryPrev"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"></polyline></svg></button>
                <div class="gallery-dots" id="galleryDots"></div>
                <button class="gallery-btn gallery-next" id="galleryNext"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg></button>
            </div>
        </div>
    </section>

    <div class="lightbox" id="lightbox"><button class="lightbox-close">&times;</button><img src="" alt="Certificate" class="lightbox-img" id="lightboxImg"></div>

    <!-- CONTACT -->
    <section id="contact" class="section contact-section">
        <div class="section-container">
            <div class="section-header">
                <span class="section-tag">&lt;contact&gt;</span>
                <h2 class="section-title reveal-text">Get In Touch</h2>
                <span class="section-tag">&lt;/contact&gt;</span>
            </div>
            <p class="cta-statement reveal-up">Download my resume and connect with me on LinkedIn. I am open to opportunities, collaborations, and conversations about technology.</p>
            <div class="contact-grid">
                <div class="contact-links-col reveal-up">
                    <div class="magic-bento" data-bento><div class="bento-border-glow"></div><div class="bento-inner contact-resume-inner">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline></svg>
                        <h4>My Resume</h4>
                        <div class="contact-resume-actions">
                            <a href="assets/docs/resume.pdf" target="_blank" class="btn btn-primary btn-sm"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>View Resume (PDF)</a>
                            <a href="assets/docs/resume.pdf" download class="btn btn-outline btn-sm"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>Download My Resume</a>
                        </div>
                    </div></div>
                    <a href="https://www.linkedin.com/in/javierperestambunan" target="_blank" class="magic-bento contact-link-card" data-bento><div class="bento-border-glow"></div><div class="bento-inner contact-link-inner"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg><div><span class="contact-link-label">LinkedIn</span><span class="contact-link-value">Connect with me on LinkedIn</span></div><svg class="link-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div></a>
                </div>
                <div class="contact-info-col reveal-up" style="--delay:0.2s">
                    <a href="&#x6D;&#x61;&#x69;&#x6C;&#x74;&#x6F;&#x3A;&#x6A;&#x61;&#x76;&#x69;&#x65;&#x72;&#x6D;&#x69;&#x6E;&#x64;&#x6D;&#x79;&#x6F;&#x77;&#x6E;&#x40;&#x67;&#x6D;&#x61;&#x69;&#x6C;&#x2E;&#x63;&#x6F;&#x6D;" class="magic-bento contact-link-card" data-bento><div class="bento-border-glow"></div><div class="bento-inner contact-link-inner"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg><div><span class="contact-link-label">Email</span><span class="contact-link-value">Email me!</span></div><svg class="link-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div></a>
                    <a href="https://github.com/japhizzz" target="_blank" class="magic-bento contact-link-card" data-bento><div class="bento-border-glow"></div><div class="bento-inner contact-link-inner"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg><div><span class="contact-link-label">GitHub</span><span class="contact-link-value">View my projects!</span></div><svg class="link-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div></a>
                    <a href="https://www.instagram.com/javierperest" target="_blank" class="magic-bento contact-link-card" data-bento><div class="bento-border-glow"></div><div class="bento-inner contact-link-inner"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg><div><span class="contact-link-label">Instagram</span><span class="contact-link-value">@javierperest</span></div><svg class="link-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div></a>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand"><span class="brand-bracket">{</span><span class="brand-text">JPT</span><span class="brand-bracket">}</span></div>
            <p class="footer-text">Built with passion for technology.</p>
            <div class="footer-links">
                <a href="https://www.linkedin.com/in/javierperestambunan" target="_blank" class="footer-social-link"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>LinkedIn</a>
                <a href="assets/docs/resume.pdf" download class="footer-social-link"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>Resume</a>
            </div>
            <p class="footer-copy">&copy; 2026 Javier Peres Tambunan. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/script.js"></script>
    <script>
    // ── Lanyard Overlay ──────────────────────────────────────────────────────
    // Anchor = bottom-center of #home. Canvas is fixed, full viewport.
    // Card floats over #about content.
    (function () {
        // Skip entirely on mobile — lanyard is hidden via CSS & not needed
        if (window.innerWidth <= 768) return;

        const canvas = document.getElementById('lanyardCanvas');
        const hint   = document.getElementById('lanyardHint');
        const ctx    = canvas.getContext('2d');
        const hero   = document.getElementById('home');

        // Load card image — prefer WebP, fallback ke JPG
        const cardImage = new Image();
        cardImage.src = 'assets/images/card.webp';

        const SEG     = 16;
        const SEG_LEN = 13;
        const GRAVITY = 2000;
        const DAMPING = 0.976;
        const ITER    = 22;   // iterasi saat dragging
        const ITER_IDLE = 14; // iterasi saat tidak dragging (Optimasi 3)

        let W, H, dpr;
        let pts = [];
        let cardW, cardH, cardX, cardY, cardVx = 0, cardVy = 0;
        let anchorX = 0, anchorY = 0;
        let dragging = false, dragOffX = 0, dragOffY = 0;
        let hintHidden = false;
        let tilt = 0;
        let raf, lastT = performance.now();
        let active = true;

        // ── Optimasi 2: Pause lanyard loop saat hero tidak terlihat ────────────
        let lanyardInView = true;
        const lanyardObserver = new IntersectionObserver(([entry]) => {
            lanyardInView = entry.isIntersecting;
            if (lanyardInView && !raf) {
                lastT = performance.now();
                raf = requestAnimationFrame(frame);
            }
        }, { threshold: 0, rootMargin: '200px 0px 200px 0px' });
        lanyardObserver.observe(hero);

        function getAnchor() {
            const rect = hero.getBoundingClientRect();
            // Anchor at bottom-center of hero, in viewport coords
            return {
                x: rect.left + rect.width * 0.90, // offset right like sketch
                y: rect.bottom
            };
        }

        function setup() {
            dpr = window.devicePixelRatio || 1;
            W   = window.innerWidth;
            H   = window.innerHeight * 2; // tall canvas to cover scroll area
            canvas.width  = W * dpr;
            canvas.height = H * dpr;
            canvas.style.width  = W + 'px';
            canvas.style.height = H + 'px';
            // Position canvas starting at top of viewport, extending down
            canvas.style.top = '0px';
            ctx.setTransform(1, 0, 0, 1, 0, 0);
            ctx.scale(dpr, dpr);

            cardW = Math.min(140, W * 0.22);
            cardH = cardW * (4 / 3);

            // Anchor: bottom of hero section (page coords, not viewport)
            const heroRect = hero.getBoundingClientRect();
            const scrollY  = window.scrollY;
            anchorX = heroRect.left + heroRect.width * 0.90;
            anchorY = heroRect.bottom + scrollY; // absolute page Y

            const ropeLen = SEG * SEG_LEN;
            pts = [];
            for (let i = 0; i <= SEG; i++) {
                const t = i / SEG;
                const px = anchorX;
                const py = anchorY + t * ropeLen;
                pts.push({ x: px, y: py, ox: px, oy: py, fixed: i === 0 });
            }

            const lp = pts[SEG];
            cardX  = lp.x;
            cardY  = lp.y + cardH / 2 + 6;
            cardVx = 0; cardVy = 0;
        }

        function smooth(p, steps) {
            const out = [];
            for (let i = 0; i < p.length - 1; i++) {
                const p0 = p[Math.max(0, i - 1)];
                const p1 = p[i];
                const p2 = p[i + 1];
                const p3 = p[Math.min(p.length - 1, i + 2)];
                for (let t = 0; t < steps; t++) {
                    const s = t / steps, s2 = s*s, s3 = s2*s;
                    out.push({
                        x: 0.5*((2*p1.x)+(-p0.x+p2.x)*s+(2*p0.x-5*p1.x+4*p2.x-p3.x)*s2+(-p0.x+3*p1.x-3*p2.x+p3.x)*s3),
                        y: 0.5*((2*p1.y)+(-p0.y+p2.y)*s+(2*p0.y-5*p1.y+4*p2.y-p3.y)*s2+(-p0.y+3*p1.y-3*p2.y+p3.y)*s3),
                    });
                }
            }
            out.push(p[p.length - 1]);
            return out;
        }

        function roundRect(c, x, y, w, h, r) {
            c.beginPath();
            c.moveTo(x+r, y); c.lineTo(x+w-r, y);
            c.quadraticCurveTo(x+w, y, x+w, y+r);
            c.lineTo(x+w, y+h-r);
            c.quadraticCurveTo(x+w, y+h, x+w-r, y+h);
            c.lineTo(x+r, y+h);
            c.quadraticCurveTo(x, y+h, x, y+h-r);
            c.lineTo(x, y+r);
            c.quadraticCurveTo(x, y, x+r, y);
            c.closePath();
        }

        function getAccent() {
            return getComputedStyle(document.documentElement).getPropertyValue('--accent').trim() || '#6c63ff';
        }

        function frame(now) {
            // ── Optimasi 2: Hentikan loop saat tab hidden atau hero tidak terlihat
            if (document.hidden || !lanyardInView) {
                raf = null;
                return;
            }

            const dt = Math.min((now - lastT) / 1000, 0.033);
            lastT = now;

            // Update anchor (in case of scroll or resize)
            const scrollY  = window.scrollY;
            const heroRect = hero.getBoundingClientRect();
            anchorX = heroRect.left + heroRect.width * 0.90;
            anchorY = heroRect.bottom + scrollY;
            pts[0].x = anchorX;
            pts[0].y = anchorY;

            // Verlet
            for (let i = 1; i < pts.length; i++) {
                if (pts[i].fixed) continue;
                const vx = (pts[i].x - pts[i].ox) * DAMPING;
                const vy = (pts[i].y - pts[i].oy) * DAMPING;
                pts[i].ox = pts[i].x; pts[i].oy = pts[i].y;
                pts[i].x += vx;
                pts[i].y += vy + GRAVITY * dt * dt;
            }

            // ── Optimasi 3: Kurangi iterasi saat tidak di-drag ────────────────
            const iters = dragging ? ITER : ITER_IDLE;
            for (let iter = 0; iter < iters; iter++) {
                pts[0].x = anchorX; pts[0].y = anchorY;
                for (let i = 0; i < SEG; i++) {
                    const a = pts[i], b = pts[i+1];
                    const dx = b.x - a.x, dy = b.y - a.y;
                    const d  = Math.sqrt(dx*dx + dy*dy) || 0.0001;
                    const diff = (d - SEG_LEN) / d * 0.5;
                    if (!a.fixed) { a.x += dx*diff; a.y += dy*diff; }
                    if (!b.fixed) { b.x -= dx*diff; b.y -= dy*diff; }
                }
                if (!dragging) {
                    const lp = pts[SEG];
                    const tx = cardX, ty = cardY - cardH/2 - 6;
                    const dx = tx - lp.x, dy = ty - lp.y;
                    lp.x += dx * 0.5; lp.y += dy * 0.5;
                    cardVx -= dx * 40 * dt;
                    cardVy -= dy * 40 * dt;
                }
            }

            // Card physics
            if (!dragging) {
                cardVy += GRAVITY * dt;
                cardVx *= 0.93; cardVy *= 0.93;
                cardX  += cardVx * dt;
                cardY  += cardVy * dt;

                // Floor = far below (page height)
                const maxY = document.body.scrollHeight - cardH/2 - 20;
                if (cardY > maxY) { cardY = maxY; cardVy *= -0.3; cardVx *= 0.8; }
                const wallL = cardW/2 + 8, wallR = W - cardW/2 - 8;
                if (cardX < wallL) { cardX = wallL; cardVx *= -0.4; }
                if (cardX > wallR) { cardX = wallR; cardVx *= -0.4; }
            }

            draw(scrollY);
            raf = requestAnimationFrame(frame);
        }

        // ── Optimasi 1 (lanyard): Restart loop saat tab kembali aktif ──────────
        document.addEventListener('visibilitychange', () => {
            if (!document.hidden && lanyardInView && !raf) {
                lastT = performance.now();
                raf = requestAnimationFrame(frame);
            }
        });

        function draw(scrollY) {
            // Canvas is position:absolute from page top
            // We draw in page coordinates (Y = absolute page Y)
            // Canvas is already positioned at page top, so no offset needed
            ctx.clearRect(0, 0, W, H);

            const accent = getAccent();
            const targetTilt = Math.max(-0.28, Math.min(0.28, cardVx * 0.0016));
            tilt += (targetTilt - tilt) * 0.09;

            const sp = smooth(pts, 5);

            // ── Strap shadow
            ctx.save();
            ctx.shadowColor = 'rgba(0,0,0,0.45)';
            ctx.shadowBlur = 12;
            ctx.strokeStyle = 'rgba(0,0,0,0.55)';
            ctx.lineWidth = 18;
            ctx.lineCap = 'round'; ctx.lineJoin = 'round';
            ctx.beginPath();
            ctx.moveTo(sp[0].x, sp[0].y);
            for (let i = 1; i < sp.length; i++) ctx.lineTo(sp[i].x, sp[i].y);
            ctx.stroke();
            ctx.restore();

            // ── Strap body
            ctx.save();
            ctx.strokeStyle = '#0e0d1c';
            ctx.lineWidth = 14;
            ctx.lineCap = 'round'; ctx.lineJoin = 'round';
            ctx.beginPath();
            ctx.moveTo(sp[0].x, sp[0].y);
            for (let i = 1; i < sp.length; i++) ctx.lineTo(sp[i].x, sp[i].y);
            ctx.stroke();
            ctx.restore();

            // ── Strap accent stripe
            ctx.save();
            ctx.strokeStyle = accent + '66';
            ctx.lineWidth = 3;
            ctx.lineCap = 'round';
            ctx.beginPath();
            ctx.moveTo(sp[0].x, sp[0].y);
            for (let i = 1; i < sp.length; i++) ctx.lineTo(sp[i].x, sp[i].y);
            ctx.stroke();
            ctx.restore();

            // ── Tick marks
            for (let i = 10; i < sp.length - 10; i += 10) {
                const p = sp[i], p2 = sp[Math.min(i+1, sp.length-1)];
                const angle = Math.atan2(p2.y - p.y, p2.x - p.x);
                ctx.save();
                ctx.translate(p.x, p.y);
                ctx.rotate(angle + Math.PI/2);
                ctx.strokeStyle = 'rgba(255,255,255,0.2)';
                ctx.lineWidth = 1.2;
                ctx.beginPath();
                ctx.moveTo(-5, 0); ctx.lineTo(5, 0);
                ctx.stroke();
                ctx.restore();
            }

            // ── Clasp
            const lp = sp[sp.length - 1];
            ctx.save();
            ctx.shadowColor = 'rgba(0,0,0,0.6)';
            ctx.shadowBlur = 8;
            ctx.beginPath();
            ctx.arc(lp.x, cardY - cardH/2, 7, 0, Math.PI*2);
            ctx.strokeStyle = '#aaa'; ctx.lineWidth = 2.5;
            ctx.stroke();
            ctx.fillStyle = '#555'; ctx.fill();
            ctx.restore();

            // ── Card
            ctx.save();
            ctx.translate(cardX, cardY);
            ctx.rotate(tilt);

            const cw = cardW, ch = cardH, r = 13;

            // Drop shadow
            ctx.save();
            ctx.shadowColor = accent + '44';
            ctx.shadowBlur = 35;
            ctx.shadowOffsetY = 10;
            roundRect(ctx, -cw/2, -ch/2, cw, ch, r);
            ctx.fillStyle = '#ddd'; ctx.fill();
            ctx.restore();

            // Card face gradient
            const cg = ctx.createLinearGradient(-cw/2, -ch/2, cw/2, ch/2);
            cg.addColorStop(0, '#ffffff');
            cg.addColorStop(1, '#e8e2ff');
            roundRect(ctx, -cw/2, -ch/2, cw, ch, r);
            ctx.fillStyle = cg; ctx.fill();

            // Inner border
            roundRect(ctx, -cw/2+1, -ch/2+1, cw-2, ch-2, r-1);
            ctx.strokeStyle = accent + '25'; ctx.lineWidth = 1; ctx.stroke();

            // Hole
            ctx.beginPath();
            ctx.arc(0, -ch/2+22, 6, 0, Math.PI*2);
            ctx.fillStyle = '#0e0b1a'; ctx.fill();
            ctx.strokeStyle = '#999'; ctx.lineWidth = 1.5; ctx.stroke();

            // card.jpg image fitted inside card (same logic as original lanyard.html)
            const imgPad  = cw * 0.12;
            const imgAreaX = -cw/2 + imgPad;
            const imgAreaY = -ch/2 + imgPad + 20;
            const imgAreaW = cw - imgPad * 2;
            const imgAreaH = ch - imgPad * 2 - 25;

            if (cardImage.complete && cardImage.naturalWidth > 0) {
                ctx.save();
                roundRect(ctx, imgAreaX, imgAreaY, imgAreaW, imgAreaH, 8);
                ctx.clip();
                const ir = cardImage.width / cardImage.height;
                const ar = imgAreaW / imgAreaH;
                let sw, sh, sx, sy;
                if (ir > ar) { sh = imgAreaH; sw = sh * ir; sx = imgAreaX - (sw - imgAreaW)/2; sy = imgAreaY; }
                else { sw = imgAreaW; sh = sw / ir; sx = imgAreaX; sy = imgAreaY - (sh - imgAreaH)/2; }
                ctx.drawImage(cardImage, sx, sy, sw, sh);
                ctx.restore();
            }

            ctx.restore();
        }

        // ── Interaction ──────────────────────────────────────────────────────
        // Canvas is pointer-events:none so we listen on window.
        // We manage cursor via document.body.

        function clientToPage(cx, cy) {
            return { x: cx, y: cy + window.scrollY };
        }

        function hitTest(pageX, pageY) {
            // Use rotated bounding box approximation (just expanded rect for feel)
            return Math.abs(pageX - cardX) < cardW/2 + 8 &&
                   Math.abs(pageY - cardY) < cardH/2 + 8;
        }

        window.addEventListener('mousemove', e => {
            const { x, y } = clientToPage(e.clientX, e.clientY);
            const on = hitTest(x, y);
            if (dragging) {
                cardX = x - dragOffX;
                cardY = y - dragOffY;
                cardVx = 0; cardVy = 0;
                pts[SEG].x = cardX; pts[SEG].y = cardY - cardH/2 - 6;
            }
        });

        window.addEventListener('mousedown', e => {
            const { x, y } = clientToPage(e.clientX, e.clientY);
            if (hitTest(x, y)) {
                dragging = true;
                dragOffX = x - cardX; dragOffY = y - cardY;
                if (!hintHidden) { hint.classList.add('hidden'); hintHidden = true; }
                e.preventDefault(); // prevent text selection
            }
        });

        window.addEventListener('mouseup', () => {
            if (dragging) {
                dragging = false;
                const lp = pts[SEG];
                cardVx = (lp.x - cardX) * 5;
                cardVy = (lp.y - (cardY - cardH/2 - 6)) * 5;
            }
        });

        // Touch: listen on document to catch swipe-initiated touches
        document.addEventListener('touchstart', e => {
            const t = e.touches[0];
            const { x, y } = clientToPage(t.clientX, t.clientY);
            if (hitTest(x, y)) {
                dragging = true;
                dragOffX = x - cardX; dragOffY = y - cardY;
                if (!hintHidden) { hint.classList.add('hidden'); hintHidden = true; }
                e.preventDefault();
            }
        }, { passive: false });

        document.addEventListener('touchmove', e => {
            if (!dragging) return;
            e.preventDefault();
            const t = e.touches[0];
            const { x, y } = clientToPage(t.clientX, t.clientY);
            cardX = x - dragOffX; cardY = y - dragOffY;
            cardVx = 0; cardVy = 0;
            pts[SEG].x = cardX; pts[SEG].y = cardY - cardH/2 - 6;
        }, { passive: false });

        document.addEventListener('touchend', () => {
            if (dragging) {
                dragging = false; cardVx = 0; cardVy = 0;
            }
        });

        window.addEventListener('resize', () => {
            cancelAnimationFrame(raf);
            setup();
            lastT = performance.now();
            raf = requestAnimationFrame(frame);
        });

        setup();
        lastT = performance.now();
        raf = requestAnimationFrame(frame);
    })();
    </script>

    <!-- GSAP untuk CardSwap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script>
    // ========== PROJECT CARDSWAP ==========
    (function initProjectCardSwap() {
        const container = document.getElementById('projectCardSwap');
        if (!container || typeof gsap === 'undefined') return;

        const cards = Array.from(container.querySelectorAll('.proj-card'));
        const total = cards.length;

        // Measure tallest card untuk set container height
        cards.forEach(c => {
            c.style.position = 'relative';
            c.style.top = 'auto';
            c.style.left = 'auto';
            c.style.transform = 'none';
            c.style.visibility = 'hidden';
        });
        const tallest = Math.max(...cards.map(c => c.getBoundingClientRect().height));
        cards.forEach(c => {
            c.style.height = tallest + 'px';
            c.style.position = 'absolute';
            c.style.top = '50%';
            c.style.left = '50%';
            c.style.visibility = '';
        });
        container.style.height = tallest + 'px';

        // Responsive distances
        const isMobile = window.innerWidth <= 600;
        const cardDistance     = isMobile ? 18 : 50;
        const verticalDistance = isMobile ? 18 : 40;
        const skewAmount       = isMobile ? 2 : 5;
        const delay            = 4000;

        const cfg = {
            ease: 'elastic.out(0.6, 0.9)',
            durDrop: 0.55, durMove: 0.5, durReturn: 0.5,
            promoteOverlap: 0.6, returnDelay: 0.05,
        };

        const makeSlot = i => ({
            x: i * cardDistance,
            y: -i * verticalDistance,
            z: -i * cardDistance * 1.5,
            zIndex: total - i,
        });

        const placeNow = (el, slot) => gsap.set(el, {
            x: slot.x, y: slot.y, z: slot.z,
            xPercent: -50, yPercent: -50,
            skewY: skewAmount,
            transformOrigin: 'center center',
            zIndex: slot.zIndex,
            force3D: true,
        });

        let order = cards.map((_, i) => i);
        cards.forEach((card, i) => placeNow(card, makeSlot(i)));

        let swapInterval = null;
        let isAnimating = false;
        let activeTl = null;

        // ── Buat dots ──────────────────────────────────────────────────────
        const dotsContainer = document.getElementById('cardswapDots');
        const dots = [];
        for (let i = 0; i < total; i++) {
            const d = document.createElement('button');
            d.classList.add('gallery-dot');
            if (i === 0) d.classList.add('active');
            d.setAttribute('aria-label', `Project ${i + 1}`);
            dotsContainer.appendChild(d);
            dots.push(d);
        }

        function updateDots() {
            // order[0] adalah card yang sedang di depan
            const frontCardIndex = order[0];
            dots.forEach((d, i) => d.classList.toggle('active', i === frontCardIndex));
        }

        const swap = (direction = 'forward', fromButton = false) => {
            if (order.length < 2) return;
            // Tombol boleh interrupt animasi; auto-swap tidak boleh interrupt
            if (isAnimating && !fromButton) return;
            if (isAnimating && fromButton && activeTl) {
                activeTl.kill();
                // Snap semua card ke posisi slot yang seharusnya setelah kill
                cards.forEach((card, i) => {
                    const idx = order.indexOf(i);
                    if (idx >= 0) placeNow(card, makeSlot(idx));
                });
                isAnimating = false;
            }

            isAnimating = true;
            let newOrder;
            if (direction === 'backward') {
                // Bug fix 1: buat array baru agar tidak mutasi referensi `order`
                newOrder = [order[total - 1], ...order.slice(0, total - 1)];
            } else {
                // Bug fix 1: spread agar `newOrder` adalah salinan baru, bukan referensi
                newOrder = [...order];
            }

            const [front, ...rest] = newOrder;
            const elFront = cards[front];

            if (direction === 'backward') {
                // Update dots langsung saat animasi dimulai
                order = newOrder;
                updateDots();
            }

            // Bug fix 2: reset isAnimating juga saat timeline di-interrupt (kill/overwrite)
            const resetAnim = () => { isAnimating = false; };
            let tl;
            try {
                tl = gsap.timeline({
                    onComplete: resetAnim,
                    onInterrupt: resetAnim,
                });
                activeTl = tl;
            } catch (e) {
                // GSAP tidak tersedia atau gagal — reset flag agar tidak stuck
                isAnimating = false;
                return;
            }

            if (direction === 'backward') {
                gsap.set(elFront, { zIndex: total + 1 });
                tl.from(elFront, { y: '-=500', duration: cfg.durDrop, ease: cfg.ease });
                tl.addLabel('demote', `-=${cfg.durDrop * cfg.promoteOverlap}`);
                rest.forEach((idx, i) => {
                    const slot = makeSlot(i + 1);
                    tl.set(cards[idx], { zIndex: slot.zIndex }, 'demote');
                    tl.to(cards[idx], { x: slot.x, y: slot.y, z: slot.z, duration: cfg.durMove, ease: cfg.ease }, `demote+=${i * 0.15}`);
                });
                const frontSlot = makeSlot(0);
                tl.to(elFront, { x: frontSlot.x, y: frontSlot.y, z: frontSlot.z, zIndex: frontSlot.zIndex, duration: cfg.durMove, ease: cfg.ease }, 'demote');
            } else {
                tl.to(elFront, { y: '+=600', duration: cfg.durDrop, ease: cfg.ease });
                tl.addLabel('promote', `-=${cfg.durDrop * cfg.promoteOverlap}`);
                rest.forEach((idx, i) => {
                    const slot = makeSlot(i);
                    tl.set(cards[idx], { zIndex: slot.zIndex }, 'promote');
                    tl.to(cards[idx], { x: slot.x, y: slot.y, z: slot.z, duration: cfg.durMove, ease: cfg.ease }, `promote+=${i * 0.15}`);
                });
                const backSlot = makeSlot(total - 1);
                tl.addLabel('return', `promote+=${cfg.durMove * cfg.returnDelay}`);
                tl.call(() => gsap.set(elFront, { zIndex: backSlot.zIndex }), undefined, 'return');
                tl.to(elFront, { x: backSlot.x, y: backSlot.y, z: backSlot.z, duration: cfg.durReturn, ease: cfg.ease }, 'return');
                // Update order & dots saat card depan sudah mulai turun (promote label)
                tl.call(() => {
                    order = [...rest, front];
                    updateDots();
                }, undefined, 'promote');
            }
        };

        // Tombol prev/next
        const btnPrev = document.getElementById('cardswapPrev');
        const btnNext = document.getElementById('cardswapNext');

        function resetInterval() {
            clearInterval(swapInterval);
            swapInterval = setInterval(() => swap('forward'), delay);
        }

        if (btnPrev) {
            btnPrev.addEventListener('click', () => {
                swap('backward', true);
                resetInterval();
            });
        }
        if (btnNext) {
            btnNext.addEventListener('click', () => {
                swap('forward', true);
                resetInterval();
            });
        }

        updateDots();

        // Mulai swap hanya saat section terlihat (hemat resource)
        const obs = new IntersectionObserver(([entry]) => {
            if (entry.isIntersecting) {
                swap('forward');
                swapInterval = setInterval(() => swap('forward'), delay);
            } else {
                clearInterval(swapInterval);
                swapInterval = null;
            }
        }, { threshold: 0.2 });
        obs.observe(container);

        // Pause on hover (hanya auto-swap, tombol tetap bisa diklik)
        container.addEventListener('mouseenter', () => clearInterval(swapInterval));
        container.addEventListener('mouseleave', () => {
            swapInterval = setInterval(() => swap('forward'), delay);
        });
    })();
    </script>
</body>
</html>
